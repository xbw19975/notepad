(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4bab91f0"],{1276:function(t,e,i){"use strict";var a=i("d784"),n=i("44e7"),s=i("825a"),c=i("1d80"),r=i("4840"),l=i("8aa5"),o=i("50c4"),u=i("14c3"),d=i("9263"),p=i("d039"),v=[].push,h=Math.min,f=4294967295,g=!p((function(){return!RegExp(f,"y")}));a("split",2,(function(t,e,i){var a;return a="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,i){var a=String(c(this)),s=void 0===i?f:i>>>0;if(0===s)return[];if(void 0===t)return[a];if(!n(t))return e.call(a,t,s);var r,l,o,u=[],p=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),h=0,g=new RegExp(t.source,p+"g");while(r=d.call(g,a)){if(l=g.lastIndex,l>h&&(u.push(a.slice(h,r.index)),r.length>1&&r.index<a.length&&v.apply(u,r.slice(1)),o=r[0].length,h=l,u.length>=s))break;g.lastIndex===r.index&&g.lastIndex++}return h===a.length?!o&&g.test("")||u.push(""):u.push(a.slice(h)),u.length>s?u.slice(0,s):u}:"0".split(void 0,0).length?function(t,i){return void 0===t&&0===i?[]:e.call(this,t,i)}:e,[function(e,i){var n=c(this),s=void 0==e?void 0:e[t];return void 0!==s?s.call(e,n,i):a.call(String(n),e,i)},function(t,n){var c=i(a,t,this,n,a!==e);if(c.done)return c.value;var d=s(t),p=String(this),v=r(d,RegExp),m=d.unicode,_=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(g?"y":"g"),b=new v(g?d:"^(?:"+d.source+")",_),x=void 0===n?f:n>>>0;if(0===x)return[];if(0===p.length)return null===u(b,p)?[p]:[];var y=0,I=0,w=[];while(I<p.length){b.lastIndex=g?I:0;var k,C=u(b,g?p:p.slice(I));if(null===C||(k=h(o(b.lastIndex+(g?0:I)),p.length))===y)I=l(p,I,m);else{if(w.push(p.slice(y,I)),w.length===x)return w;for(var A=1;A<=C.length-1;A++)if(w.push(C[A]),w.length===x)return w;I=y=k}}return w.push(p.slice(y)),w}]}),!g)},"26e9":function(t,e,i){"use strict";var a=i("23e7"),n=i("e8b5"),s=[].reverse,c=[1,2];a({target:"Array",proto:!0,forced:String(c)===String(c.reverse())},{reverse:function(){return n(this)&&(this.length=this.length),s.call(this)}})},"33ef":function(t,e,i){"use strict";var a=i("e1b7"),n=i.n(a);n.a},9213:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"lately"},[i("div",{staticClass:"top"},[i("span",[t._v("最近")]),i("a-icon",{attrs:{type:"reload"},on:{click:t.Latelyload}})],1),t.activeItems[0]?i("div",{staticClass:"main"},[i("div",{staticClass:"left"},[i("div",[i("div",[i("a-collapse",{attrs:{bordered:!1,activeKey:[0]}},t._l(t.datalist,(function(e,a){return i("a-collapse-panel",{key:a,attrs:{header:new Date(e[0]["time"]).toLocaleString().split(" ")[0]}},t._l(e,(function(e){return i("div",{key:e.value.local_target_id,ref:"lis",refInFor:!0,staticClass:"li",class:t.bgc?"active":"",on:{click:function(i){return t.handlerClick(e.value.local_target_id)}}},[i("div",{staticClass:"icon"},[t._v(" >_ ")]),i("div",{staticClass:"content"},[i("div",{staticClass:"apiName"},[t._v(t._s(e.value.name))]),i("div",{staticClass:"desc"},[i("span",[t._v("接口")]),i("span",[t._v(" "+t._s(new Date(e.value.update_dtime).Format("HH:mm:ss"))+" ")]),i("span",[t._v(" apiPost前端测试 ")])])]),i("p",{staticClass:"test",on:{click:function(i){return t.ToApis(e.value.local_target_id)}}},[t._v(" >_测试/编辑控制台 ")])])})),0)})),1)],1)])]),i("div",{staticClass:"right"},[i("div",{staticClass:"head"},[i("p",{staticClass:"title"},[t._v(t._s(t.activeItem.name))]),i("p",{staticClass:"desc"},[t._v("apiPost前端测试")]),i("p",[t._v(" "+t._s(new Date(t.activeItem.update_day).toLocaleString().split(" ")[0])+" ")]),i("p",{staticClass:"look",on:{click:t.shareTo}},[t._v("查看备份")])]),i("div",{staticClass:"con"},[i("ul",[i("li",{on:{click:function(e){return t.ToApis(t.activeItem.local_target_id)}}},[i("a-icon",{attrs:{type:"code"}}),i("span",[t._v("测试/编辑控制台")])],1),i("li",{on:{click:t.shareTo}},[i("a-icon",{attrs:{type:"twitter"}}),i("span",[t._v("分享")])],1),i("li",{on:{click:function(e){return t.delApi(t.activeItem.local_target_id)}}},[i("a-icon",{attrs:{type:"delete"}}),i("span",[t._v("删除接口")])],1),i("li",{on:{click:function(e){return t.delLately(t.activeItem.local_target_id)}}},[i("a-icon",{attrs:{type:"minus-circle"}}),i("span",[t._v("移除记录")])],1)])]),t._m(0)]),i("Popup",{ref:"login",attrs:{okBtn:t.okBtn?"登录":"注册",footer:!1,cancelBtn:t.cancelBtn?"立即注册":"已有帐号？ 去登录",title:t.title?"登录 ApiPost":"注册 ApiPost账号",width:500,handleCancel:t.loginOff,curView:t.curView}})],1):i("div",{staticStyle:{width:"100%"}},[i("p",{staticStyle:{margin:"100px auto 0","text-align":"center"}},[t._v(" 暂无最近一周内的接口/文档编辑记录 ")])])])},n=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"bottom"},[i("img",{attrs:{src:"",alt:""}})])}],s=(i("99af"),i("4de4"),i("c975"),i("26e9"),i("fb6a"),i("4e82"),i("b0c0"),i("d3b7"),i("ac1f"),i("1276"),i("ddb0"),i("5530")),c=i("b9f5"),r=i("2f62"),l=i("986e"),o={components:{Popup:c["a"]},created:function(){this.ergodic()},watch:{$route:{handler:function(t){console.log(t),"/lately"==t.fullPath&&this.ergodic()}}},data:function(){return{activeItems:[],activeItem:{},datalist:[],okBtn:!0,cancelBtn:!0,title:!0,curView:!0,bgc:!1}},methods:Object(s["a"])(Object(s["a"])({},Object(r["c"])("sendApi",["delkey","init"])),{},{sortArr:function(t,e){var i,a=[],n=[];for(var s in t=t.sort((function(t,i){var a=t[e],n=i[e];return a<n?-1:1})),t.length&&(i=t[0][e]),t)t[s][e]===i?n.push(t[s]):(i=t[s][e],a.push(n),n=[t[s]]);return a.push(n),a},ergodic:function(){var t=this,e=[],i=this.db.createInstance({name:"user",storeName:"user:-1:lately"});i.iterate((function(t,i,a){if(console.log(a),"folder"!=i.split(":")[0]){var n={time:t.update_day,value:t};e.push(n)}})).then((function(){t.activeItems=[].concat(e),t.activeItem=e[0].value,t.datalist=t.sortArr(t.activeItems,"time").slice(0,-1).reverse()}))["catch"]((function(t){console.log(t)}))},shareTo:function(){this.$refs.login.showModal(!0)},loginOff:function(){this.okBtn=!this.okBtn,this.cancelBtn=!this.cancelBtn,this.title=!this.title,this.curView=!this.curView},handlerClick:function(t){var e=this.activeItems.filter((function(e){if(e.value.local_target_id==t)return e.value.local_target_id==t}));this.activeItem=e[0].value,console.log(this.activeItem)},ToApis:function(t){var e=this;console.log(t),this.$router.push("/apis");var i=this.db.createInstance({name:"project",storeName:"project:-1:open"}),a=this.db.createInstance({name:"init"});i.keys().then((function(n){if("-1"==n.indexOf(t)){console.log(e);var s=e.db.createInstance({name:"project",storeName:"project:-1"});s.getItem(t).then((function(a){e.init(),i.setItem(t,{senddata:a,template:e.$store.state.sendApi.template}).then((function(){l["a"].$emit("setPanes",{key:t,title:a.name})}))}))}else a.setItem("api",t),l["a"].$emit("setActiveKey",t)}))},delApi:function(t){var e=this;console.log(t);var i=this.db.createInstance({name:"user",storeName:"user:-1:lately"});i.removeItem(t).then((function(){e.activeItems=e.activeItems.filter((function(e){return e.value.local_target_id!=t})),e.datalist=e.sortArr(e.activeItems,"time").slice(0,-1).reverse()}));this.db.createInstance({name:"project",storeName:"project:-1"});l["a"].$emit("removeMainByKey",t);this.db.createInstance({name:"project",storeName:"project:-1:open"})},delLately:function(t){var e=this,i=this.db.createInstance({name:"user",storeName:"user:-1:lately"});i.removeItem(t).then((function(){e.activeItems=e.activeItems.filter((function(e){return e.value.local_target_id!=t})),e.datalist=e.sortArr(e.activeItems,"time").slice(0,-1).reverse()}))},Latelyload:function(){this.$router.push("/1"),this.$router.push("/lately")}})},u=o,d=(i("33ef"),i("2877")),p=Object(d["a"])(u,a,n,!1,null,"c3cc6650",null);e["default"]=p.exports},b435:function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,"*[data-v-c3cc6650]{padding:0;margin:0;box-sizing:border-box}.main[data-v-c3cc6650]{width:100%;display:flex;justify-content:space-between;padding:20px 25px;height:90vh}.main .right[data-v-c3cc6650]{width:200px}.main .left[data-v-c3cc6650]{width:80%;overflow:auto}.main .head[data-v-c3cc6650]{position:relative;line-height:2;padding-bottom:20px}.main .con[data-v-c3cc6650]{padding-top:20px}.main .head .title[data-v-c3cc6650]{font-size:18px;font-weight:500;margin-bottom:10px}ul[data-v-c3cc6650]{list-style:none}.main .right ul li[data-v-c3cc6650]{cursor:pointer;line-height:2}.look[data-v-c3cc6650]{position:absolute;bottom:20px;right:10px;cursor:pointer}.li[data-v-c3cc6650]{display:flex;height:60px;padding:10px;position:relative}.li .icon[data-v-c3cc6650]{width:40px;height:40px;font-size:28px;border-radius:5px;text-align:center;background-color:#58b882;font-weight:600;line-height:30px;margin-right:20px}.li .content .span[data-v-c3cc6650]{margin:0 10px;font-size:12px}.li .test[data-v-c3cc6650]{position:absolute;right:20px;top:50%;transform:translateY(-50%);font-size:12px;cursor:pointer}",""]),t.exports=e},e1b7:function(t,e,i){var a=i("b435");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("499e").default;n("bc057bfa",a,!0,{sourceMap:!1,shadowMode:!1})}}]);